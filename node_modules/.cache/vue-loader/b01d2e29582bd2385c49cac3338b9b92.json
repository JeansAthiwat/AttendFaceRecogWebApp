{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\addUserImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\addUserImage.vue","mtime":1622021221568},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gImZhY2UtYXBpLmpzIjsNCmZhY2VhcGkuZW52Lm1vbmtleVBhdGNoKHsNCiAgQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwNCiAgSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsDQogIEltYWdlRGF0YTogSW1hZ2VEYXRhLA0KICBWaWRlbzogSFRNTFZpZGVvRWxlbWVudCwNCiAgY3JlYXRlQ2FudmFzRWxlbWVudDogKCkgPT4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksDQogIGNyZWF0ZUltYWdlRWxlbWVudDogKCkgPT4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksDQp9KTsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImFkZFVzZXJJbWFnZSIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzbG9hZGVkOiBmYWxzZSwNCiAgICAgIGZpbGVzOiBbXSwNCiAgICAgIGRlc2NyaXB0b3JzanNvbjogW10sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHByZXZpZXdQaWNzKCkgew0KICAgICAgdGhpcy5nZXREZXNjcmlwdG9yKCk7DQogICAgfSwNCiAgICBhc3luYyBnZXREZXNjcmlwdG9yKCkgew0KICAgICAgLy8gY29uc3QgaW1hZ2V1cGxvYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1hZ2VmaWxlcycpDQogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgNTsgaW5kZXgrKykgew0KICAgICAgICBjb25zdCB0b2ltYWdlID0gYXdhaXQgZmFjZWFwaS5idWZmZXJUb0ltYWdlKA0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWFnZWZpbGVzIikuZmlsZXNbaW5kZXhdDQogICAgICAgICk7DQogICAgICAgIGNvbnN0IGRldGVjdGlvbiA9IGF3YWl0IGZhY2VhcGkNCiAgICAgICAgICAuZGV0ZWN0U2luZ2xlRmFjZSh0b2ltYWdlKQ0KICAgICAgICAgIC53aXRoRmFjZUxhbmRtYXJrcygpDQogICAgICAgICAgLndpdGhGYWNlRGVzY3JpcHRvcigpOw0KICAgICAgICB0aGlzLmRlc2NyaXB0b3JzanNvbi5wdXNoKA0KICAgICAgICAgIEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oZGV0ZWN0aW9uLmRlc2NyaXB0b3IpKQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgnYWxsaW1ndXBsb2FkZWQnLCB0aGlzLmRlc2NyaXB0b3JzanNvbik7DQogICAgfSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBQcm9taXNlLmFsbChbDQogICAgICBmYWNlYXBpLm5ldHMuZmFjZUxhbmRtYXJrNjhOZXQubG9hZEZyb21VcmkoIi9tb2RlbHMiKSwNCiAgICAgIGZhY2VhcGkubmV0cy5mYWNlUmVjb2duaXRpb25OZXQubG9hZEZyb21VcmkoIi9tb2RlbHMiKSwNCiAgICAgIGZhY2VhcGkubmV0cy5zc2RNb2JpbGVuZXR2MS5sb2FkRnJvbVVyaSgiL21vZGVscyIpLA0KICAgICAgZmFjZWFwaS5uZXRzLnRpbnlGYWNlRGV0ZWN0b3IubG9hZEZyb21VcmkoIi9tb2RlbHMiKQ0KICAgIF0pLnRoZW4oKCkgPT4ge3RoaXMuaXNsb2FkZWQgPSB0cnVlfSk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["addUserImage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addUserImage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <input v-show=\"isloaded\"\r\n      type=\"file\"\r\n      id=\"imagefiles\"\r\n      ref=\"myfiles\"\r\n      @change=\"previewPics\"\r\n      multiple\r\n      accept=\"image/*,.jpg,.jpeg,.png\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from \"face-api.js\";\r\nfaceapi.env.monkeyPatch({\r\n  Canvas: HTMLCanvasElement,\r\n  Image: HTMLImageElement,\r\n  ImageData: ImageData,\r\n  Video: HTMLVideoElement,\r\n  createCanvasElement: () => document.createElement(\"canvas\"),\r\n  createImageElement: () => document.createElement(\"img\"),\r\n});\r\nexport default {\r\n  name: \"addUserImage\",\r\n  data() {\r\n    return {\r\n      isloaded: false,\r\n      files: [],\r\n      descriptorsjson: [],\r\n    };\r\n  },\r\n  methods: {\r\n    previewPics() {\r\n      this.getDescriptor();\r\n    },\r\n    async getDescriptor() {\r\n      // const imageupload = document.getElementById('imagefiles')\r\n      for (let index = 0; index < 5; index++) {\r\n        const toimage = await faceapi.bufferToImage(\r\n          document.getElementById(\"imagefiles\").files[index]\r\n        );\r\n        const detection = await faceapi\r\n          .detectSingleFace(toimage)\r\n          .withFaceLandmarks()\r\n          .withFaceDescriptor();\r\n        this.descriptorsjson.push(\r\n          JSON.stringify(Array.from(detection.descriptor))\r\n        );\r\n      }\r\n      this.$emit('allimguploaded', this.descriptorsjson);\r\n    },\r\n  },\r\n  created() {\r\n    Promise.all([\r\n      faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n      faceapi.nets.ssdMobilenetv1.loadFromUri(\"/models\"),\r\n      faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\")\r\n    ]).then(() => {this.isloaded = true});\r\n  },\r\n};\r\n</script>"]}]}