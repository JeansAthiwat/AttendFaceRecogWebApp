{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue","mtime":1622064051111},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gImZhY2UtYXBpLmpzIjsNCmltcG9ydCBkYiBmcm9tICIuLi92aWV3cy9maXJlYmFzZUluaXQiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJjYW1lcmFBbmRTaG93IiwNCiAgY29tcG9uZW50czoge30sDQogIHByb3BzOiBbImRhdGFGb3JTb3J0Il0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIExhYmVsZWRGYWNlczogW10sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBQcm9taXNlLmFsbChbDQogICAgICBmYWNlYXBpLm5ldHMudGlueUZhY2VEZXRlY3Rvci5sb2FkRnJvbVVyaSgiL21vZGVscyIpLA0KICAgICAgZmFjZWFwaS5uZXRzLmZhY2VMYW5kbWFyazY4TmV0LmxvYWRGcm9tVXJpKCIvbW9kZWxzIiksDQogICAgICBmYWNlYXBpLm5ldHMuZmFjZVJlY29nbml0aW9uTmV0LmxvYWRGcm9tVXJpKCIvbW9kZWxzIiksDQogICAgXSkudGhlbigpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0TGFiZWxGcm9tREIoKSB7DQogICAgICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50cyIpDQogICAgICAgIC5nZXQoKQ0KICAgICAgICAudGhlbigocXVlcnlTbmFwc2hvdHMpID0+IHsNCiAgICAgICAgICBxdWVyeVNuYXBzaG90cy5mb3JFYWNoKChkb2MpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERlc2NyaXB0b3JzID0gW107DQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgIGRvYy5kYXRhKCkubWF0dGhheW9tID09IHRoaXMuZGF0YUZvclNvcnQubWF0dGhheW9tICYmDQogICAgICAgICAgICAgIGRvYy5kYXRhKCkuc2xhc2ggPT0gdGhpcy5kYXRhRm9yU29ydC5zbGFzaA0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgIGRvYy5kYXRhKCkuZGVzY3JpcHRvcnMuZm9yRWFjaCgoZGVzY3JpcHRvcikgPT4gew0KICAgICAgICAgICAgICAgIHBhcnNlZERlc2NyaXB0b3JzLnB1c2goDQogICAgICAgICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KEpTT04ucGFyc2UoZGVzY3JpcHRvcikpDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIHRoaXMuTGFiZWxlZEZhY2VzLnB1c2goDQogICAgICAgICAgICAgICAgbmV3IGZhY2VhcGkuTGFiZWxlZEZhY2VEZXNjcmlwdG9ycygNCiAgICAgICAgICAgICAgICAgIGRvYy5kYXRhKCkuc3R1ZGVudGlkLA0KICAgICAgICAgICAgICAgICAgcGFyc2VkRGVzY3JpcHRvcnMNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygiSUNFRUUiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLkxhYmVsZWRGYWNlcykNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["cameraAndShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"cameraAndShow.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"GetButton\">\r\n      <button @click.prevent=\"getLabelFromDB\">Submit</button>\r\n    </div>\r\n\r\n    <div id=\"Camera\">dataforsort : {{ dataForSort }}</div>\r\n\r\n    <div id=\"Showlabeled\">\r\n      LabeledFaceDescriptors : {{ LabeledFaces.toString() }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from \"face-api.js\";\r\nimport db from \"../views/firebaseInit\";\r\n\r\nexport default {\r\n  name: \"cameraAndShow\",\r\n  components: {},\r\n  props: [\"dataForSort\"],\r\n  data() {\r\n    return {\r\n      LabeledFaces: [],\r\n    };\r\n  },\r\n  created() {\r\n    Promise.all([\r\n      faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n    ]).then();\r\n  },\r\n  methods: {\r\n    getLabelFromDB() {\r\n      db.collection(\"students\")\r\n        .get()\r\n        .then((querySnapshots) => {\r\n          querySnapshots.forEach((doc) => {\r\n            const parsedDescriptors = [];\r\n            if (\r\n              doc.data().matthayom == this.dataForSort.matthayom &&\r\n              doc.data().slash == this.dataForSort.slash\r\n            ) {\r\n              doc.data().descriptors.forEach((descriptor) => {\r\n                parsedDescriptors.push(\r\n                  new Float32Array(JSON.parse(descriptor))\r\n                );\r\n              });\r\n              this.LabeledFaces.push(\r\n                new faceapi.LabeledFaceDescriptors(\r\n                  doc.data().studentid,\r\n                  parsedDescriptors\r\n                )\r\n              );\r\n            } else {\r\n              console.log(\"ICEEE\");\r\n            }\r\n          });\r\n          console.log(this.LabeledFaces)\r\n        });\r\n        \r\n    },\r\n  },\r\n};\r\n</script>"]}]}