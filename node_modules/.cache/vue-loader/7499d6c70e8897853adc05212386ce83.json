{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue","mtime":1622628569965},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gImZhY2UtYXBpLmpzIjsNCmltcG9ydCBkYiBmcm9tICIuLi92aWV3cy9maXJlYmFzZUluaXQiOw0KaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImNhbWVyYUFuZFNob3ciLA0KICBjb21wb25lbnRzOiB7fSwNCiAgcHJvcHM6IFsiZGF0YUZvclNvcnQiXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgU2l6ZTogOTYwLA0KICAgICAgU2NvcmU6IDAuNjUsDQoNCiAgICAgIGlzbG9hZGVkOiBmYWxzZSwNCiAgICAgIHNvcnRzdWJtaXQ6IHRydWUsDQogICAgICBtYXRjaGVkcGFpcjogW10sDQoNCiAgICAgIC8vLS0tLS0tLS0tLS0tIG9uIGNvZGUNCiAgICAgIHN0dWRlbnRzTGlzdFVOQ0hFQ0tFRDogW10sDQogICAgICBzdHVkZW50c0xpc3RDSEVDS0VEOiBbXSwNCiAgICAgIExhYmVsZWRGYWNlczogW10sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBQcm9taXNlLmFsbChbDQogICAgICBmYWNlYXBpLm5ldHMudGlueUZhY2VEZXRlY3Rvci5sb2FkRnJvbVVyaSgiL21vZGVscyIpLA0KICAgICAgZmFjZWFwaS5uZXRzLmZhY2VMYW5kbWFyazY4TmV0LmxvYWRGcm9tVXJpKCIvbW9kZWxzIiksDQogICAgICBmYWNlYXBpLm5ldHMuZmFjZVJlY29nbml0aW9uTmV0LmxvYWRGcm9tVXJpKCIvbW9kZWxzIiksDQogICAgXSkudGhlbigpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0TGFiZWxGcm9tREIoKSB7DQogICAgICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50cyIpDQogICAgICAgIC53aGVyZSgibWF0dGhheW9tIiwgIj09IiwgTnVtYmVyKHRoaXMuZGF0YUZvclNvcnQubWF0dGhheW9tKSkNCiAgICAgICAgLndoZXJlKCJzbGFzaCIsICI9PSIsIE51bWJlcih0aGlzLmRhdGFGb3JTb3J0LnNsYXNoKSkNCiAgICAgICAgLmdldCgpDQogICAgICAgIC50aGVuKChxdWVyeVNuYXBzaG90cykgPT4gew0KICAgICAgICAgIHF1ZXJ5U25hcHNob3RzLmZvckVhY2goKGRvYykgPT4gew0KICAgICAgICAgICAgY29uc3QgcGFyc2VkRGVzY3JpcHRvcnMgPSBbXTsNCiAgICAgICAgICAgIC8qaWYgKA0KICAgICAgICAgICAgICBkb2MuZGF0YSgpLm1hdHRoYXlvbSA9PSB0aGlzLmRhdGFGb3JTb3J0Lm1hdHRoYXlvbSAmJg0KICAgICAgICAgICAgICBkb2MuZGF0YSgpLnNsYXNoID09IHRoaXMuZGF0YUZvclNvcnQuc2xhc2gNCiAgICAgICAgICAgICkgeyovDQogICAgICAgICAgICB2YXIgc3R1ZGVudERhdGEgPSB7DQogICAgICAgICAgICAgIHN0dWRlbnREYXRhSWQ6IGRvYy5kYXRhKCkuc3R1ZGVudGlkLA0KICAgICAgICAgICAgICBzdHVkZW50RGF0YUZuYW1lOiBkb2MuZGF0YSgpLkZuYW1lLA0KICAgICAgICAgICAgICBzdHVkZW50RGF0YUxuYW1lOiBkb2MuZGF0YSgpLkxuYW1lLA0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgdGhpcy5zdHVkZW50c0xpc3RVTkNIRUNLRUQucHVzaChzdHVkZW50RGF0YSk7DQogICAgICAgICAgICBkb2MuZGF0YSgpLmRlc2NyaXB0b3JzLmZvckVhY2goKGRlc2NyaXB0b3IpID0+IHsNCiAgICAgICAgICAgICAgcGFyc2VkRGVzY3JpcHRvcnMucHVzaChuZXcgRmxvYXQzMkFycmF5KEpTT04ucGFyc2UoZGVzY3JpcHRvcikpKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5MYWJlbGVkRmFjZXMucHVzaCgNCiAgICAgICAgICAgICAgbmV3IGZhY2VhcGkuTGFiZWxlZEZhY2VEZXNjcmlwdG9ycygNCiAgICAgICAgICAgICAgICBkb2MuZGF0YSgpLnN0dWRlbnRpZCwNCiAgICAgICAgICAgICAgICBwYXJzZWREZXNjcmlwdG9ycw0KICAgICAgICAgICAgICApDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgLyp9IGVsc2Ugew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygiR2V0RGVzY3JpcHRvcnNGYWlsZWQiKTsNCiAgICAgICAgICAgIH0qLw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGNvbnNvbGUubG9nKCJsYWJlbGVkRkFDRVMiLCB0aGlzLkxhYmVsZWRGYWNlcyk7DQogICAgICAgICAgY29uc29sZS5sb2coInN0dWRlbnRzTGlzdFVOQ0hFQ0tFRCIsIHRoaXMuc3R1ZGVudHNMaXN0VU5DSEVDS0VEKTsNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHRoaXMuaXNsb2FkZWQgPSB0cnVlKSk7DQogICAgfSwNCiAgICBmcm9udCgpIHsNCiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gKHdpbmRvdy5jb25zdHJhaW50cyA9IHsNCiAgICAgICAgYXVkaW86IGZhbHNlLA0KICAgICAgICB2aWRlbzogdHJ1ZSwNCiAgICAgIH0pOw0KICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcw0KICAgICAgICAuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKQ0KICAgICAgICAudGhlbigoc3RyZWFtKSA9PiB7DQogICAgICAgICAgdGhpcy5zb3J0c3VibWl0ID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLiRyZWZzLmxpdmV2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07DQogICAgICAgIH0pDQogICAgICAgIC50aGVuKHRoaXMuRmFjZURldGVjdCkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHRoaXMuc29ydHN1Ym1pdCA9IGZhbHNlOw0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICByZWFyKCkgew0KICAgICAgY29uc3QgY29uc3RyYWludHMgPSAod2luZG93LmNvbnN0cmFpbnRzID0gew0KICAgICAgICBhdWRpbzogZmFsc2UsDQogICAgICAgIHZpZGVvOiB7IGZhY2luZ01vZGU6IHsgZXhhY3Q6ICJlbnZpcm9ubWVudCIgfSB9LA0KICAgICAgfSk7DQogICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzDQogICAgICAgIC5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpDQogICAgICAgIC50aGVuKChzdHJlYW0pID0+IHsNCiAgICAgICAgICB0aGlzLnNvcnRzdWJtaXQgPSB0cnVlOw0KICAgICAgICAgIHRoaXMuJHJlZnMubGl2ZXZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTsNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4odGhpcy5GYWNlRGV0ZWN0KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgdGhpcy5zb3J0c3VibWl0ID0gZmFsc2U7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGFzeW5jIEZhY2VEZXRlY3QoKSB7DQogICAgICBjb25zdCBmYWNlTWF0Y2hlciA9IG5ldyBmYWNlYXBpLkZhY2VNYXRjaGVyKHRoaXMuTGFiZWxlZEZhY2VzKTsNCg0KICAgICAgc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4gew0KICAgICAgICB2YXIgb3B0aW9ucyA9IG5ldyBmYWNlYXBpLlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zKHsNCiAgICAgICAgICBpbnB1dFNpemU6IE51bWJlcih0aGlzLlNpemUpLA0KICAgICAgICAgIHNjb3JlVGhyZXNob2xkOiBOdW1iZXIodGhpcy5TY29yZSksDQogICAgICAgIH0pOw0KICAgICAgICBjb25zdCBkZXRlY3Rpb25zID0gYXdhaXQgZmFjZWFwaQ0KICAgICAgICAgIC5kZXRlY3RBbGxGYWNlcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlkZW8iKSwgb3B0aW9ucykNCiAgICAgICAgICAud2l0aEZhY2VMYW5kbWFya3MoKQ0KICAgICAgICAgIC53aXRoRmFjZURlc2NyaXB0b3JzKCk7DQogICAgICAgIC8vY29uc29sZS5sb2coJ0NBTWRldGVjdGlvbnMgOicsIGRldGVjdGlvbnMpOw0KICAgICAgICBkZXRlY3Rpb25zLmZvckVhY2goYXN5bmMgKGRldGVjdGlvbikgPT4gew0KICAgICAgICAgIGNvbnN0IGJlc3RNYXRjaCA9IGZhY2VNYXRjaGVyLmZpbmRCZXN0TWF0Y2goZGV0ZWN0aW9uLmRlc2NyaXB0b3IpOw0KICAgICAgICAgIGNvbnNvbGUubG9nKGJlc3RNYXRjaC50b1N0cmluZygpKTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhiZXN0TWF0Y2guZGlzdGFuY2UpOw0KICAgICAgICAgIHRoaXMubWF0Y2hlZHBhaXIucHVzaChiZXN0TWF0Y2gudG9TdHJpbmcoKSk7DQogICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUNIZUNLICYgVU5jaGVjayBMaXN0IG1hbmFnZXINCiAgICAgICAgICB0aGlzLnN0dWRlbnRzTGlzdFVOQ0hFQ0tFRC5mb3JFYWNoKCh1bmNoZWNrU3R1ZGVudCkgPT4gew0KICAgICAgICAgICAgaWYgKHVuY2hlY2tTdHVkZW50LnN0dWRlbnREYXRhSWQgPT0gYmVzdE1hdGNoLnRvU3RyaW5nKGZhbHNlKSkgew0KICAgICAgICAgICAgICB0aGlzLnN0dWRlbnRzTGlzdENIRUNLRUQucHVzaCh1bmNoZWNrU3R1ZGVudCk7DQogICAgICAgICAgICAgIHRoaXMuc3R1ZGVudHNMaXN0VU5DSEVDS0VEID0gdGhpcy5zdHVkZW50c0xpc3RVTkNIRUNLRUQuZmlsdGVyKA0KICAgICAgICAgICAgICAgICh2YWx1ZSkgPT4gew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9IHVuY2hlY2tTdHVkZW50Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICAgIGNvbnNvbGUubG9nKCJlbmQgMSBsb29wIik7DQogICAgICB9LCAzMDApOw0KICAgIH0sDQogICAgc2V0UmVnY29nbml6ZWREYXRhKCkgew0KICAgICAgdGhpcy5zdHVkZW50c0xpc3RDSEVDS0VELmZvckVhY2goKGNoZWNrZWRzdHVkZW50aWQpID0+IHsNCiAgICAgICAgdGhpcy5kYXRhRm9yU29ydC5wZXJpb2RzLmZvckVhY2goKHBlcmlvZCkgPT4gew0KICAgICAgICAgIGRiLmNvbGxlY3Rpb24oIm1hdHRoYXlvbSIpDQogICAgICAgICAgICAuZG9jKGAke3RoaXMuZGF0YUZvclNvcnQubWF0dGhheW9tfS0ke3RoaXMuZGF0YUZvclNvcnQuc2xhc2h9YCkNCiAgICAgICAgICAgIC5jb2xsZWN0aW9uKGAke2NoZWNrZWRzdHVkZW50aWQuc3R1ZGVudERhdGFJZH1gKQ0KICAgICAgICAgICAgLmRvYyhgJHt0aGlzLmRhdGFGb3JTb3J0LmRhdGV9YCkNCiAgICAgICAgICAgIC5jb2xsZWN0aW9uKCJwZXJpb2RzIikNCiAgICAgICAgICAgIC5kb2MoYHAke3BlcmlvZH1gKQ0KICAgICAgICAgICAgLnNldCgNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHBlcmlvZDogcGVyaW9kLA0KICAgICAgICAgICAgICAgIHN0YXR1czogMSwgLy8tLS0tLS0tLS0tLS0tLS0tLSpDVU1NTU1NTSoNCiAgICAgICAgICAgICAgICBzdWJqZWN0OiB0aGlzLmRhdGFGb3JTb3J0LnN1YmplY3QsDQogICAgICAgICAgICAgICAgdGltZTogZmlyZWJhc2UuZmlyZXN0b3JlLlRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZSgpKSwNCiAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgeyBtZXJnZTogdHJ1ZSB9DQogICAgICAgICAgICApOw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KDQogICAgICB0aGlzLnN0dWRlbnRzTGlzdFVOQ0hFQ0tFRC5mb3JFYWNoKChhYnNlbnRzdHVkZW50aWQpID0+IHsNCiAgICAgICAgdGhpcy5kYXRhRm9yU29ydC5wZXJpb2RzLmZvckVhY2goKHBlcmlvZCkgPT4gew0KICAgICAgICAgIGRiLmNvbGxlY3Rpb24oIm1hdHRoYXlvbSIpDQogICAgICAgICAgICAuZG9jKGAke3RoaXMuZGF0YUZvclNvcnQubWF0dGhheW9tfS0ke3RoaXMuZGF0YUZvclNvcnQuc2xhc2h9YCkNCiAgICAgICAgICAgIC5jb2xsZWN0aW9uKGAke2Fic2VudHN0dWRlbnRpZC5zdHVkZW50RGF0YUlkfWApDQogICAgICAgICAgICAuZG9jKGAke3RoaXMuZGF0YUZvclNvcnQuZGF0ZX1gKQ0KICAgICAgICAgICAgLmNvbGxlY3Rpb24oInBlcmlvZHMiKQ0KICAgICAgICAgICAgLmRvYyhgcCR7cGVyaW9kfWApDQogICAgICAgICAgICAuc2V0KA0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsDQogICAgICAgICAgICAgICAgc3RhdHVzOiAwLCAvLy0tLS0tLS0tLS0tQUJTRU5UDQogICAgICAgICAgICAgICAgc3ViamVjdDogdGhpcy5kYXRhRm9yU29ydC5zdWJqZWN0LA0KICAgICAgICAgICAgICAgIHRpbWU6IGZpcmViYXNlLmZpcmVzdG9yZS5UaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoKSksDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIHsgbWVyZ2U6IHRydWUgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["cameraAndShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cameraAndShow.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container bg-white\">\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-lg-12\">\r\n          <div class=\"d-flex justify-content-center\">\r\n            <button\r\n              name=\"button\"\r\n              class=\"btn-lg text-light my-5\"\r\n              style=\"background-color: #112e51\"\r\n              @click.prevent=\"getLabelFromDB\"\r\n            >\r\n              Start Checking Attendance Program\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"isloaded\" class=\"row my-3\">\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"container-fluid\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6\">\r\n                <button class=\"btn-sm text-light\"  style=\"background-color: #112e51\" @click=\"front\">\r\n                  Use Front Camera\r\n                </button>\r\n                <button class=\"btn-sm text-light\"  style=\"background-color: #112e51\" @click=\"rear\">\r\n                  Use Rear Camera\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"col-sm-6\"></div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"border rounded-bottom\">\r\n                <div class=\"container justify-content-center p-3\">\r\n                  <div class=\"embed-responsive-4by3\">\r\n                    <video\r\n                      class=\"embed-responsive-item\"\r\n                      v-show=\"isloaded\"\r\n                      id=\"video\"\r\n                      ref=\"livevideo\"\r\n                      width=\"100%\"\r\n                      height=\"auto\"\r\n                      autoplay\r\n                    ></video>\r\n                  </div>\r\n                  <div class=\"d-flex justify-content-center m-5 login_container\">\r\n              <button\r\n                type=\"submit\"\r\n                name=\"button\"\r\n                class=\"btn-lg login_btn text-light\"\r\n                style=\"background-color: #58bcdd\"\r\n                @click.prevent=\"setRegcognizedData\"\r\n              >\r\n                Sent Results\r\n              </button>\r\n            </div>\r\n                </div>\r\n\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"card mb-3\">\r\n                <div class=\"card-header bg-success\">CHECKED</div>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li\r\n                    class=\"list-group-item\"\r\n                    v-for=\"student in studentsListCHECKED\"\r\n                    :key=\"student.studentDataId\"\r\n                  >\r\n                    {{ student.studentDataId }} -\r\n                    {{ student.studentDataFname }}\r\n                    {{ student.studentDataLname }}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"card mb-3\">\r\n                <div class=\"card-header bg-danger\">Not found Yet</div>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li\r\n                    class=\"list-group-item\"\r\n                    v-for=\"student in studentsListUNCHECKED\"\r\n                    :key=\"student.studentDataId\"\r\n                  >\r\n                    {{ student.studentDataId }} -\r\n                    {{ student.studentDataFname }}\r\n                    {{ student.studentDataLname }}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from \"face-api.js\";\r\nimport db from \"../views/firebaseInit\";\r\nimport firebase from \"firebase\";\r\nexport default {\r\n  name: \"cameraAndShow\",\r\n  components: {},\r\n  props: [\"dataForSort\"],\r\n  data() {\r\n    return {\r\n      Size: 960,\r\n      Score: 0.65,\r\n\r\n      isloaded: false,\r\n      sortsubmit: true,\r\n      matchedpair: [],\r\n\r\n      //------------ on code\r\n      studentsListUNCHECKED: [],\r\n      studentsListCHECKED: [],\r\n      LabeledFaces: [],\r\n    };\r\n  },\r\n  created() {\r\n    Promise.all([\r\n      faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n    ]).then();\r\n  },\r\n  methods: {\r\n    getLabelFromDB() {\r\n      db.collection(\"students\")\r\n        .where(\"matthayom\", \"==\", Number(this.dataForSort.matthayom))\r\n        .where(\"slash\", \"==\", Number(this.dataForSort.slash))\r\n        .get()\r\n        .then((querySnapshots) => {\r\n          querySnapshots.forEach((doc) => {\r\n            const parsedDescriptors = [];\r\n            /*if (\r\n              doc.data().matthayom == this.dataForSort.matthayom &&\r\n              doc.data().slash == this.dataForSort.slash\r\n            ) {*/\r\n            var studentData = {\r\n              studentDataId: doc.data().studentid,\r\n              studentDataFname: doc.data().Fname,\r\n              studentDataLname: doc.data().Lname,\r\n            };\r\n\r\n            this.studentsListUNCHECKED.push(studentData);\r\n            doc.data().descriptors.forEach((descriptor) => {\r\n              parsedDescriptors.push(new Float32Array(JSON.parse(descriptor)));\r\n            });\r\n            this.LabeledFaces.push(\r\n              new faceapi.LabeledFaceDescriptors(\r\n                doc.data().studentid,\r\n                parsedDescriptors\r\n              )\r\n            );\r\n            /*} else {\r\n              console.log(\"GetDescriptorsFailed\");\r\n            }*/\r\n          });\r\n          console.log(\"labeledFACES\", this.LabeledFaces);\r\n          console.log(\"studentsListUNCHECKED\", this.studentsListUNCHECKED);\r\n        })\r\n        .then((this.isloaded = true));\r\n    },\r\n    front() {\r\n      const constraints = (window.constraints = {\r\n        audio: false,\r\n        video: true,\r\n      });\r\n      navigator.mediaDevices\r\n        .getUserMedia(constraints)\r\n        .then((stream) => {\r\n          this.sortsubmit = true;\r\n          this.$refs.livevideo.srcObject = stream;\r\n        })\r\n        .then(this.FaceDetect)\r\n        .catch((error) => {\r\n          this.sortsubmit = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n    rear() {\r\n      const constraints = (window.constraints = {\r\n        audio: false,\r\n        video: { facingMode: { exact: \"environment\" } },\r\n      });\r\n      navigator.mediaDevices\r\n        .getUserMedia(constraints)\r\n        .then((stream) => {\r\n          this.sortsubmit = true;\r\n          this.$refs.livevideo.srcObject = stream;\r\n        })\r\n        .then(this.FaceDetect)\r\n        .catch((error) => {\r\n          this.sortsubmit = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n    async FaceDetect() {\r\n      const faceMatcher = new faceapi.FaceMatcher(this.LabeledFaces);\r\n\r\n      setInterval(async () => {\r\n        var options = new faceapi.TinyFaceDetectorOptions({\r\n          inputSize: Number(this.Size),\r\n          scoreThreshold: Number(this.Score),\r\n        });\r\n        const detections = await faceapi\r\n          .detectAllFaces(document.getElementById(\"video\"), options)\r\n          .withFaceLandmarks()\r\n          .withFaceDescriptors();\r\n        //console.log('CAMdetections :', detections);\r\n        detections.forEach(async (detection) => {\r\n          const bestMatch = faceMatcher.findBestMatch(detection.descriptor);\r\n          console.log(bestMatch.toString());\r\n          console.log(bestMatch.distance);\r\n          this.matchedpair.push(bestMatch.toString());\r\n          //--------------------------CHeCK & UNcheck List manager\r\n          this.studentsListUNCHECKED.forEach((uncheckStudent) => {\r\n            if (uncheckStudent.studentDataId == bestMatch.toString(false)) {\r\n              this.studentsListCHECKED.push(uncheckStudent);\r\n              this.studentsListUNCHECKED = this.studentsListUNCHECKED.filter(\r\n                (value) => {\r\n                  return value != uncheckStudent;\r\n                }\r\n              );\r\n            }\r\n          });\r\n        });\r\n        console.log(\"end 1 loop\");\r\n      }, 300);\r\n    },\r\n    setRegcognizedData() {\r\n      this.studentsListCHECKED.forEach((checkedstudentid) => {\r\n        this.dataForSort.periods.forEach((period) => {\r\n          db.collection(\"matthayom\")\r\n            .doc(`${this.dataForSort.matthayom}-${this.dataForSort.slash}`)\r\n            .collection(`${checkedstudentid.studentDataId}`)\r\n            .doc(`${this.dataForSort.date}`)\r\n            .collection(\"periods\")\r\n            .doc(`p${period}`)\r\n            .set(\r\n              {\r\n                period: period,\r\n                status: 1, //-----------------*CUMMMMMM*\r\n                subject: this.dataForSort.subject,\r\n                time: firebase.firestore.Timestamp.fromDate(new Date()),\r\n              },\r\n              { merge: true }\r\n            );\r\n        });\r\n      });\r\n\r\n      this.studentsListUNCHECKED.forEach((absentstudentid) => {\r\n        this.dataForSort.periods.forEach((period) => {\r\n          db.collection(\"matthayom\")\r\n            .doc(`${this.dataForSort.matthayom}-${this.dataForSort.slash}`)\r\n            .collection(`${absentstudentid.studentDataId}`)\r\n            .doc(`${this.dataForSort.date}`)\r\n            .collection(\"periods\")\r\n            .doc(`p${period}`)\r\n            .set(\r\n              {\r\n                period: period,\r\n                status: 0, //-----------ABSENT\r\n                subject: this.dataForSort.subject,\r\n                time: firebase.firestore.Timestamp.fromDate(new Date()),\r\n              },\r\n              { merge: true }\r\n            );\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n"]}]}