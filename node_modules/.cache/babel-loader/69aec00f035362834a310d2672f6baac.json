{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\thread-loader\\dist\\cjs.js!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\views\\statsPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\views\\statsPage.vue","mtime":1622209226197},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZGIgZnJvbSAiLi9maXJlYmFzZUluaXQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInN0YXRzUGFnZSIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0dWRlbnRzTGlzdDogW10sCiAgICAgIGRhdGFUb0dldDogewogICAgICAgIG1hdHRoYXlvbTogbnVsbCwKICAgICAgICBzbGFzaDogbnVsbCwKICAgICAgICBkYXRlOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRRdWVyeTogZnVuY3Rpb24gZ2V0UXVlcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50cyIpLm9yZGVyQnkoInN0dWRlbnRpZCIsICJhc2MiKS53aGVyZSgibWF0dGhheW9tIiwgIj09IiwgTnVtYmVyKHRoaXMuZGF0YVRvR2V0Lm1hdHRoYXlvbSkpLndoZXJlKCJzbGFzaCIsICI9PSIsIE51bWJlcih0aGlzLmRhdGFUb0dldC5zbGFzaCkpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvY3MpIHsKICAgICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgdmFyIHN0dWRlbnREYXRhID0gewogICAgICAgICAgICBzdHVkZW50aWQ6IGRvYy5kYXRhKCkuc3R1ZGVudGlkLAogICAgICAgICAgICBuYW1lOiAiIi5jb25jYXQoZG9jLmRhdGEoKS5GbmFtZSwgIiAiKS5jb25jYXQoZG9jLmRhdGEoKS5MbmFtZSkKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuc3R1ZGVudHNMaXN0LnB1c2goc3R1ZGVudERhdGEpOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnN0dWRlbnRzTGlzdCk7CgogICAgICAgIF90aGlzLnN0dWRlbnRzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzdHVkZW50KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZW50ZXJlZCIpOwogICAgICAgICAgdmFyIHRhYmxlcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsgLy88dHI+PC90cj4KCiAgICAgICAgICB2YXIgaWRDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOyAvLzx0ZD48L3RkPgoKICAgICAgICAgIHZhciBuYW1lQ29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKICAgICAgICAgIGlkQ29sLmlubmVySFRNTCA9ICIiLmNvbmNhdChzdHVkZW50LnN0dWRlbnRpZCk7IC8vLzx0ZD41MTM1OTwvdGQ+CgogICAgICAgICAgbmFtZUNvbC5pbm5lckhUTUwgPSAiIi5jb25jYXQoc3R1ZGVudC5uYW1lKTsKICAgICAgICAgIHRhYmxlcm93LmFwcGVuZENoaWxkKGlkQ29sKTsKICAgICAgICAgIHRhYmxlcm93LmFwcGVuZENoaWxkKG5hbWVDb2wpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRhYmxlIikuYXBwZW5kQ2hpbGQodGFibGVyb3cpOwoKICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCAxMTsgaW5kZXgrKykgewogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJtYXR0aGF5b20iKS5kb2MoIiIuY29uY2F0KF90aGlzLmRhdGFUb0dldC5tYXR0aGF5b20sICItIikuY29uY2F0KF90aGlzLmRhdGFUb0dldC5zbGFzaCkpLmNvbGxlY3Rpb24oIiIuY29uY2F0KHN0dWRlbnQuc3R1ZGVudGlkKSkuZG9jKCIiLmNvbmNhdChfdGhpcy5kYXRhVG9HZXQuZGF0ZSkpLmNvbGxlY3Rpb24oInBlcmlvZHMiKS5kb2MoInAiLmNvbmNhdChpbmRleCkpLmdldCgpLnRoZW4oZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgIHZhciBwZXJpb2RDb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwoKICAgICAgICAgICAgICBpZiAoZG9jLmV4aXN0cykgewogICAgICAgICAgICAgICAgcGVyaW9kQ29sLmlubmVySFRNTCA9ICIiLmNvbmNhdChkb2MuZGF0YSgpLnN0YXR1cyk7CiAgICAgICAgICAgICAgICB0YWJsZXJvdy5hcHBlbmRDaGlsZChwZXJpb2RDb2wpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwZXJpb2RDb2wuaW5uZXJIVE1MID0gJy0nOwogICAgICAgICAgICAgICAgdGFibGVyb3cuYXBwZW5kQ2hpbGQocGVyaW9kQ29sKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["statsPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <form>\r\n        <label>ระดับชั้น (ม.) :</label\r\n        ><select v-model=\"dataToGet.matthayom\">\r\n          <option value=\"1\">ม.1</option>\r\n          <option value=\"2\">ม.2</option>\r\n          <option value=\"3\">ม.3</option>\r\n          <option value=\"4\">ม.4</option>\r\n          <option value=\"5\">ม.5</option>\r\n          <option value=\"6\">ม.6</option>\r\n        </select>\r\n        <span> | </span>\r\n        <label>ห้อง (/xx) :</label\r\n        ><select v-model=\"dataToGet.slash\">\r\n          <option value=\"1\">/1</option>\r\n          <option value=\"2\">/2</option>\r\n          <option value=\"3\">/3</option>\r\n          <option value=\"4\">/4</option>\r\n          <option value=\"5\">/5</option>\r\n          <option value=\"6\">/6</option>\r\n          <option value=\"7\">/7</option>\r\n          <option value=\"8\">/8</option>\r\n          <option value=\"9\">/9</option>\r\n          <option value=\"10\">/10</option>\r\n          <option value=\"11\">/11</option>\r\n          <option value=\"12\">/12</option>\r\n          <option value=\"13\">/13</option>\r\n          <option value=\"14\">/14</option>\r\n          <option value=\"15\">/15</option>\r\n          <option value=\"16\">/16</option>\r\n          <option value=\"17\">/17</option>\r\n          <option value=\"18\">/18</option>\r\n          <option value=\"19\">/19</option>\r\n          <option value=\"20\">/20 สุดหล่อเท่ห์</option>\r\n        </select>\r\n        <input type=\"date\" v-model=\"dataToGet.date\" />\r\n        <button @click=\"getQuery\">Click Me To get STATS</button>\r\n      </form>\r\n    </div>\r\n    <div>\r\n      <table id=\"table\" border>\r\n        <tr>\r\n          <th rowspan=\"2\">StudentID</th>\r\n          <th rowspan=\"2\">Name</th>\r\n          <th colspan=\"11\">Attendance Status</th>\r\n        </tr>\r\n        <tr>\r\n          <th>p0</th>\r\n          <th>p1</th>\r\n          <th>p2</th>\r\n          <th>p3</th>\r\n          <th>p4</th>\r\n          <th>p5</th>\r\n          <th>p6</th>\r\n          <th>p7</th>\r\n          <th>p8</th>\r\n          <th>p9</th>\r\n          <th>p10</th>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport db from \"./firebaseInit\";\r\n\r\nexport default {\r\n  name: \"statsPage\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      studentsList: [],\r\n      dataToGet: {\r\n        matthayom: null,\r\n        slash: null,\r\n        date: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getQuery() {\r\n      db.collection(\"students\").orderBy(\"studentid\", \"asc\")\r\n        .where(\"matthayom\", \"==\", Number(this.dataToGet.matthayom))\r\n        .where(\"slash\", \"==\", Number(this.dataToGet.slash))\r\n        .get()\r\n        .then((docs) => {\r\n          docs.forEach((doc) => {\r\n            const studentData = {\r\n              studentid: doc.data().studentid,\r\n              name: `${doc.data().Fname} ${doc.data().Lname}`,\r\n            };\r\n            this.studentsList.push(studentData);\r\n          });\r\n          console.log(this.studentsList);\r\n          this.studentsList.forEach((student) => {\r\n            console.log(\"entered\");\r\n            var tablerow = document.createElement(\"tr\"); //<tr></tr>\r\n            var idCol = document.createElement(\"td\"); //<td></td>\r\n            var nameCol = document.createElement(\"td\");\r\n            idCol.innerHTML = `${student.studentid}`; ///<td>51359</td>\r\n            nameCol.innerHTML = `${student.name}`;\r\n            tablerow.appendChild(idCol); \r\n            tablerow.appendChild(nameCol);\r\n            document.getElementById(\"table\").appendChild(tablerow);\r\n\r\n            for (let index = 0; index < 11; index++) {\r\n              db.collection(\"matthayom\")\r\n              .doc(`${this.dataToGet.matthayom}-${this.dataToGet.slash}`)\r\n              .collection(`${student.studentid}`)\r\n              .doc(`${this.dataToGet.date}`)\r\n              .collection(\"periods\")\r\n              .doc(`p${index}`)\r\n              .get()\r\n              .then((doc) => {\r\n                var periodCol = document.createElement('td')\r\n                if(doc.exists) {\r\n                  periodCol.innerHTML = `${doc.data().status}`\r\n                  tablerow.appendChild(periodCol)\r\n                }\r\n                else{\r\n                  periodCol.innerHTML = '-'\r\n                  tablerow.appendChild(periodCol)\r\n                }\r\n              });\r\n            }\r\n            \r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/views"}]}