{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\thread-loader\\dist\\cjs.js!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue","mtime":1622628569965},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3dlYlByb2plY3QvcmVhbHdvcmsvYnVpbGQwMDIvYXR0ZW5kZmFjZXJlZ3YwMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmxvYXQzMi1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZmFjZWFwaSBmcm9tICJmYWNlLWFwaS5qcyI7CmltcG9ydCBkYiBmcm9tICIuLi92aWV3cy9maXJlYmFzZUluaXQiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNhbWVyYUFuZFNob3ciLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiBbImRhdGFGb3JTb3J0Il0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFNpemU6IDk2MCwKICAgICAgU2NvcmU6IDAuNjUsCiAgICAgIGlzbG9hZGVkOiBmYWxzZSwKICAgICAgc29ydHN1Ym1pdDogdHJ1ZSwKICAgICAgbWF0Y2hlZHBhaXI6IFtdLAogICAgICAvLy0tLS0tLS0tLS0tLSBvbiBjb2RlCiAgICAgIHN0dWRlbnRzTGlzdFVOQ0hFQ0tFRDogW10sCiAgICAgIHN0dWRlbnRzTGlzdENIRUNLRUQ6IFtdLAogICAgICBMYWJlbGVkRmFjZXM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIFByb21pc2UuYWxsKFtmYWNlYXBpLm5ldHMudGlueUZhY2VEZXRlY3Rvci5sb2FkRnJvbVVyaSgiL21vZGVscyIpLCBmYWNlYXBpLm5ldHMuZmFjZUxhbmRtYXJrNjhOZXQubG9hZEZyb21VcmkoIi9tb2RlbHMiKSwgZmFjZWFwaS5uZXRzLmZhY2VSZWNvZ25pdGlvbk5ldC5sb2FkRnJvbVVyaSgiL21vZGVscyIpXSkudGhlbigpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TGFiZWxGcm9tREI6IGZ1bmN0aW9uIGdldExhYmVsRnJvbURCKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZGIuY29sbGVjdGlvbigic3R1ZGVudHMiKS53aGVyZSgibWF0dGhheW9tIiwgIj09IiwgTnVtYmVyKHRoaXMuZGF0YUZvclNvcnQubWF0dGhheW9tKSkud2hlcmUoInNsYXNoIiwgIj09IiwgTnVtYmVyKHRoaXMuZGF0YUZvclNvcnQuc2xhc2gpKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChxdWVyeVNuYXBzaG90cykgewogICAgICAgIHF1ZXJ5U25hcHNob3RzLmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgdmFyIHBhcnNlZERlc2NyaXB0b3JzID0gW107CiAgICAgICAgICAvKmlmICgNCiAgICAgICAgICAgIGRvYy5kYXRhKCkubWF0dGhheW9tID09IHRoaXMuZGF0YUZvclNvcnQubWF0dGhheW9tICYmDQogICAgICAgICAgICBkb2MuZGF0YSgpLnNsYXNoID09IHRoaXMuZGF0YUZvclNvcnQuc2xhc2gNCiAgICAgICAgICApIHsqLwoKICAgICAgICAgIHZhciBzdHVkZW50RGF0YSA9IHsKICAgICAgICAgICAgc3R1ZGVudERhdGFJZDogZG9jLmRhdGEoKS5zdHVkZW50aWQsCiAgICAgICAgICAgIHN0dWRlbnREYXRhRm5hbWU6IGRvYy5kYXRhKCkuRm5hbWUsCiAgICAgICAgICAgIHN0dWRlbnREYXRhTG5hbWU6IGRvYy5kYXRhKCkuTG5hbWUKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMuc3R1ZGVudHNMaXN0VU5DSEVDS0VELnB1c2goc3R1ZGVudERhdGEpOwoKICAgICAgICAgIGRvYy5kYXRhKCkuZGVzY3JpcHRvcnMuZm9yRWFjaChmdW5jdGlvbiAoZGVzY3JpcHRvcikgewogICAgICAgICAgICBwYXJzZWREZXNjcmlwdG9ycy5wdXNoKG5ldyBGbG9hdDMyQXJyYXkoSlNPTi5wYXJzZShkZXNjcmlwdG9yKSkpOwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMuTGFiZWxlZEZhY2VzLnB1c2gobmV3IGZhY2VhcGkuTGFiZWxlZEZhY2VEZXNjcmlwdG9ycyhkb2MuZGF0YSgpLnN0dWRlbnRpZCwgcGFyc2VkRGVzY3JpcHRvcnMpKTsKICAgICAgICAgIC8qfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJHZXREZXNjcmlwdG9yc0ZhaWxlZCIpOw0KICAgICAgICAgIH0qLwoKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygibGFiZWxlZEZBQ0VTIiwgX3RoaXMuTGFiZWxlZEZhY2VzKTsKICAgICAgICBjb25zb2xlLmxvZygic3R1ZGVudHNMaXN0VU5DSEVDS0VEIiwgX3RoaXMuc3R1ZGVudHNMaXN0VU5DSEVDS0VEKTsKICAgICAgfSkudGhlbih0aGlzLmlzbG9hZGVkID0gdHJ1ZSk7CiAgICB9LAogICAgZnJvbnQ6IGZ1bmN0aW9uIGZyb250KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBjb25zdHJhaW50cyA9IHdpbmRvdy5jb25zdHJhaW50cyA9IHsKICAgICAgICBhdWRpbzogZmFsc2UsCiAgICAgICAgdmlkZW86IHRydWUKICAgICAgfTsKICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgIF90aGlzMi5zb3J0c3VibWl0ID0gdHJ1ZTsKICAgICAgICBfdGhpczIuJHJlZnMubGl2ZXZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTsKICAgICAgfSkudGhlbih0aGlzLkZhY2VEZXRlY3QpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5zb3J0c3VibWl0ID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICByZWFyOiBmdW5jdGlvbiByZWFyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBjb25zdHJhaW50cyA9IHdpbmRvdy5jb25zdHJhaW50cyA9IHsKICAgICAgICBhdWRpbzogZmFsc2UsCiAgICAgICAgdmlkZW86IHsKICAgICAgICAgIGZhY2luZ01vZGU6IHsKICAgICAgICAgICAgZXhhY3Q6ICJlbnZpcm9ubWVudCIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICBfdGhpczMuc29ydHN1Ym1pdCA9IHRydWU7CiAgICAgICAgX3RoaXMzLiRyZWZzLmxpdmV2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07CiAgICAgIH0pLnRoZW4odGhpcy5GYWNlRGV0ZWN0KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczMuc29ydHN1Ym1pdCA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgRmFjZURldGVjdDogZnVuY3Rpb24gRmFjZURldGVjdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZmFjZU1hdGNoZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGZhY2VNYXRjaGVyID0gbmV3IGZhY2VhcGkuRmFjZU1hdGNoZXIoX3RoaXM0LkxhYmVsZWRGYWNlcyk7CiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zLCBkZXRlY3Rpb25zOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBuZXcgZmFjZWFwaS5UaW55RmFjZURldGVjdG9yT3B0aW9ucyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFNpemU6IE51bWJlcihfdGhpczQuU2l6ZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZVRocmVzaG9sZDogTnVtYmVyKF90aGlzNC5TY29yZSkKICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhY2VhcGkuZGV0ZWN0QWxsRmFjZXMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZGVvIiksIG9wdGlvbnMpLndpdGhGYWNlTGFuZG1hcmtzKCkud2l0aEZhY2VEZXNjcmlwdG9ycygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgICAgICAgIGRldGVjdGlvbnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdDQU1kZXRlY3Rpb25zIDonLCBkZXRlY3Rpb25zKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRlY3Rpb25zLmZvckVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGV0ZWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZXN0TWF0Y2g7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWF0Y2ggPSBmYWNlTWF0Y2hlci5maW5kQmVzdE1hdGNoKGRldGVjdGlvbi5kZXNjcmlwdG9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiZXN0TWF0Y2gudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmVzdE1hdGNoLmRpc3RhbmNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0Lm1hdGNoZWRwYWlyLnB1c2goYmVzdE1hdGNoLnRvU3RyaW5nKCkpOyAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tQ0hlQ0sgJiBVTmNoZWNrIExpc3QgbWFuYWdlcgoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnN0dWRlbnRzTGlzdFVOQ0hFQ0tFRC5mb3JFYWNoKGZ1bmN0aW9uICh1bmNoZWNrU3R1ZGVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuY2hlY2tTdHVkZW50LnN0dWRlbnREYXRhSWQgPT0gYmVzdE1hdGNoLnRvU3RyaW5nKGZhbHNlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc3R1ZGVudHNMaXN0Q0hFQ0tFRC5wdXNoKHVuY2hlY2tTdHVkZW50KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zdHVkZW50c0xpc3RVTkNIRUNLRUQgPSBfdGhpczQuc3R1ZGVudHNMaXN0VU5DSEVDS0VELmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gdW5jaGVja1N0dWRlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlbmQgMSBsb29wIik7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICB9KSksIDMwMCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFJlZ2NvZ25pemVkRGF0YTogZnVuY3Rpb24gc2V0UmVnY29nbml6ZWREYXRhKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuc3R1ZGVudHNMaXN0Q0hFQ0tFRC5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2Vkc3R1ZGVudGlkKSB7CiAgICAgICAgX3RoaXM1LmRhdGFGb3JTb3J0LnBlcmlvZHMuZm9yRWFjaChmdW5jdGlvbiAocGVyaW9kKSB7CiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJtYXR0aGF5b20iKS5kb2MoIiIuY29uY2F0KF90aGlzNS5kYXRhRm9yU29ydC5tYXR0aGF5b20sICItIikuY29uY2F0KF90aGlzNS5kYXRhRm9yU29ydC5zbGFzaCkpLmNvbGxlY3Rpb24oIiIuY29uY2F0KGNoZWNrZWRzdHVkZW50aWQuc3R1ZGVudERhdGFJZCkpLmRvYygiIi5jb25jYXQoX3RoaXM1LmRhdGFGb3JTb3J0LmRhdGUpKS5jb2xsZWN0aW9uKCJwZXJpb2RzIikuZG9jKCJwIi5jb25jYXQocGVyaW9kKSkuc2V0KHsKICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsCiAgICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLSpDVU1NTU1NTSoKICAgICAgICAgICAgc3ViamVjdDogX3RoaXM1LmRhdGFGb3JTb3J0LnN1YmplY3QsCiAgICAgICAgICAgIHRpbWU6IGZpcmViYXNlLmZpcmVzdG9yZS5UaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoKSkKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbWVyZ2U6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5zdHVkZW50c0xpc3RVTkNIRUNLRUQuZm9yRWFjaChmdW5jdGlvbiAoYWJzZW50c3R1ZGVudGlkKSB7CiAgICAgICAgX3RoaXM1LmRhdGFGb3JTb3J0LnBlcmlvZHMuZm9yRWFjaChmdW5jdGlvbiAocGVyaW9kKSB7CiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJtYXR0aGF5b20iKS5kb2MoIiIuY29uY2F0KF90aGlzNS5kYXRhRm9yU29ydC5tYXR0aGF5b20sICItIikuY29uY2F0KF90aGlzNS5kYXRhRm9yU29ydC5zbGFzaCkpLmNvbGxlY3Rpb24oIiIuY29uY2F0KGFic2VudHN0dWRlbnRpZC5zdHVkZW50RGF0YUlkKSkuZG9jKCIiLmNvbmNhdChfdGhpczUuZGF0YUZvclNvcnQuZGF0ZSkpLmNvbGxlY3Rpb24oInBlcmlvZHMiKS5kb2MoInAiLmNvbmNhdChwZXJpb2QpKS5zZXQoewogICAgICAgICAgICBwZXJpb2Q6IHBlcmlvZCwKICAgICAgICAgICAgc3RhdHVzOiAwLAogICAgICAgICAgICAvLy0tLS0tLS0tLS0tQUJTRU5UCiAgICAgICAgICAgIHN1YmplY3Q6IF90aGlzNS5kYXRhRm9yU29ydC5zdWJqZWN0LAogICAgICAgICAgICB0aW1lOiBmaXJlYmFzZS5maXJlc3RvcmUuVGltZXN0YW1wLmZyb21EYXRlKG5ldyBEYXRlKCkpCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG1lcmdlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["cameraAndShow.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container bg-white\">\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-lg-12\">\r\n          <div class=\"d-flex justify-content-center\">\r\n            <button\r\n              name=\"button\"\r\n              class=\"btn-lg text-light my-5\"\r\n              style=\"background-color: #112e51\"\r\n              @click.prevent=\"getLabelFromDB\"\r\n            >\r\n              Start Checking Attendance Program\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"isloaded\" class=\"row my-3\">\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"container-fluid\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-6\">\r\n                <button class=\"btn-sm text-light\"  style=\"background-color: #112e51\" @click=\"front\">\r\n                  Use Front Camera\r\n                </button>\r\n                <button class=\"btn-sm text-light\"  style=\"background-color: #112e51\" @click=\"rear\">\r\n                  Use Rear Camera\r\n                </button>\r\n              </div>\r\n\r\n              <div class=\"col-sm-6\"></div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"border rounded-bottom\">\r\n                <div class=\"container justify-content-center p-3\">\r\n                  <div class=\"embed-responsive-4by3\">\r\n                    <video\r\n                      class=\"embed-responsive-item\"\r\n                      v-show=\"isloaded\"\r\n                      id=\"video\"\r\n                      ref=\"livevideo\"\r\n                      width=\"100%\"\r\n                      height=\"auto\"\r\n                      autoplay\r\n                    ></video>\r\n                  </div>\r\n                  <div class=\"d-flex justify-content-center m-5 login_container\">\r\n              <button\r\n                type=\"submit\"\r\n                name=\"button\"\r\n                class=\"btn-lg login_btn text-light\"\r\n                style=\"background-color: #58bcdd\"\r\n                @click.prevent=\"setRegcognizedData\"\r\n              >\r\n                Sent Results\r\n              </button>\r\n            </div>\r\n                </div>\r\n\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"card mb-3\">\r\n                <div class=\"card-header bg-success\">CHECKED</div>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li\r\n                    class=\"list-group-item\"\r\n                    v-for=\"student in studentsListCHECKED\"\r\n                    :key=\"student.studentDataId\"\r\n                  >\r\n                    {{ student.studentDataId }} -\r\n                    {{ student.studentDataFname }}\r\n                    {{ student.studentDataLname }}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <div class=\"card mb-3\">\r\n                <div class=\"card-header bg-danger\">Not found Yet</div>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li\r\n                    class=\"list-group-item\"\r\n                    v-for=\"student in studentsListUNCHECKED\"\r\n                    :key=\"student.studentDataId\"\r\n                  >\r\n                    {{ student.studentDataId }} -\r\n                    {{ student.studentDataFname }}\r\n                    {{ student.studentDataLname }}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from \"face-api.js\";\r\nimport db from \"../views/firebaseInit\";\r\nimport firebase from \"firebase\";\r\nexport default {\r\n  name: \"cameraAndShow\",\r\n  components: {},\r\n  props: [\"dataForSort\"],\r\n  data() {\r\n    return {\r\n      Size: 960,\r\n      Score: 0.65,\r\n\r\n      isloaded: false,\r\n      sortsubmit: true,\r\n      matchedpair: [],\r\n\r\n      //------------ on code\r\n      studentsListUNCHECKED: [],\r\n      studentsListCHECKED: [],\r\n      LabeledFaces: [],\r\n    };\r\n  },\r\n  created() {\r\n    Promise.all([\r\n      faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n    ]).then();\r\n  },\r\n  methods: {\r\n    getLabelFromDB() {\r\n      db.collection(\"students\")\r\n        .where(\"matthayom\", \"==\", Number(this.dataForSort.matthayom))\r\n        .where(\"slash\", \"==\", Number(this.dataForSort.slash))\r\n        .get()\r\n        .then((querySnapshots) => {\r\n          querySnapshots.forEach((doc) => {\r\n            const parsedDescriptors = [];\r\n            /*if (\r\n              doc.data().matthayom == this.dataForSort.matthayom &&\r\n              doc.data().slash == this.dataForSort.slash\r\n            ) {*/\r\n            var studentData = {\r\n              studentDataId: doc.data().studentid,\r\n              studentDataFname: doc.data().Fname,\r\n              studentDataLname: doc.data().Lname,\r\n            };\r\n\r\n            this.studentsListUNCHECKED.push(studentData);\r\n            doc.data().descriptors.forEach((descriptor) => {\r\n              parsedDescriptors.push(new Float32Array(JSON.parse(descriptor)));\r\n            });\r\n            this.LabeledFaces.push(\r\n              new faceapi.LabeledFaceDescriptors(\r\n                doc.data().studentid,\r\n                parsedDescriptors\r\n              )\r\n            );\r\n            /*} else {\r\n              console.log(\"GetDescriptorsFailed\");\r\n            }*/\r\n          });\r\n          console.log(\"labeledFACES\", this.LabeledFaces);\r\n          console.log(\"studentsListUNCHECKED\", this.studentsListUNCHECKED);\r\n        })\r\n        .then((this.isloaded = true));\r\n    },\r\n    front() {\r\n      const constraints = (window.constraints = {\r\n        audio: false,\r\n        video: true,\r\n      });\r\n      navigator.mediaDevices\r\n        .getUserMedia(constraints)\r\n        .then((stream) => {\r\n          this.sortsubmit = true;\r\n          this.$refs.livevideo.srcObject = stream;\r\n        })\r\n        .then(this.FaceDetect)\r\n        .catch((error) => {\r\n          this.sortsubmit = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n    rear() {\r\n      const constraints = (window.constraints = {\r\n        audio: false,\r\n        video: { facingMode: { exact: \"environment\" } },\r\n      });\r\n      navigator.mediaDevices\r\n        .getUserMedia(constraints)\r\n        .then((stream) => {\r\n          this.sortsubmit = true;\r\n          this.$refs.livevideo.srcObject = stream;\r\n        })\r\n        .then(this.FaceDetect)\r\n        .catch((error) => {\r\n          this.sortsubmit = false;\r\n          console.log(error);\r\n        });\r\n    },\r\n    async FaceDetect() {\r\n      const faceMatcher = new faceapi.FaceMatcher(this.LabeledFaces);\r\n\r\n      setInterval(async () => {\r\n        var options = new faceapi.TinyFaceDetectorOptions({\r\n          inputSize: Number(this.Size),\r\n          scoreThreshold: Number(this.Score),\r\n        });\r\n        const detections = await faceapi\r\n          .detectAllFaces(document.getElementById(\"video\"), options)\r\n          .withFaceLandmarks()\r\n          .withFaceDescriptors();\r\n        //console.log('CAMdetections :', detections);\r\n        detections.forEach(async (detection) => {\r\n          const bestMatch = faceMatcher.findBestMatch(detection.descriptor);\r\n          console.log(bestMatch.toString());\r\n          console.log(bestMatch.distance);\r\n          this.matchedpair.push(bestMatch.toString());\r\n          //--------------------------CHeCK & UNcheck List manager\r\n          this.studentsListUNCHECKED.forEach((uncheckStudent) => {\r\n            if (uncheckStudent.studentDataId == bestMatch.toString(false)) {\r\n              this.studentsListCHECKED.push(uncheckStudent);\r\n              this.studentsListUNCHECKED = this.studentsListUNCHECKED.filter(\r\n                (value) => {\r\n                  return value != uncheckStudent;\r\n                }\r\n              );\r\n            }\r\n          });\r\n        });\r\n        console.log(\"end 1 loop\");\r\n      }, 300);\r\n    },\r\n    setRegcognizedData() {\r\n      this.studentsListCHECKED.forEach((checkedstudentid) => {\r\n        this.dataForSort.periods.forEach((period) => {\r\n          db.collection(\"matthayom\")\r\n            .doc(`${this.dataForSort.matthayom}-${this.dataForSort.slash}`)\r\n            .collection(`${checkedstudentid.studentDataId}`)\r\n            .doc(`${this.dataForSort.date}`)\r\n            .collection(\"periods\")\r\n            .doc(`p${period}`)\r\n            .set(\r\n              {\r\n                period: period,\r\n                status: 1, //-----------------*CUMMMMMM*\r\n                subject: this.dataForSort.subject,\r\n                time: firebase.firestore.Timestamp.fromDate(new Date()),\r\n              },\r\n              { merge: true }\r\n            );\r\n        });\r\n      });\r\n\r\n      this.studentsListUNCHECKED.forEach((absentstudentid) => {\r\n        this.dataForSort.periods.forEach((period) => {\r\n          db.collection(\"matthayom\")\r\n            .doc(`${this.dataForSort.matthayom}-${this.dataForSort.slash}`)\r\n            .collection(`${absentstudentid.studentDataId}`)\r\n            .doc(`${this.dataForSort.date}`)\r\n            .collection(\"periods\")\r\n            .doc(`p${period}`)\r\n            .set(\r\n              {\r\n                period: period,\r\n                status: 0, //-----------ABSENT\r\n                subject: this.dataForSort.subject,\r\n                time: firebase.firestore.Timestamp.fromDate(new Date()),\r\n              },\r\n              { merge: true }\r\n            );\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n"],"sourceRoot":"src/components"}]}