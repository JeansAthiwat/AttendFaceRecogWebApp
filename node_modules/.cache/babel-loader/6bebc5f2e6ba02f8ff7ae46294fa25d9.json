{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\addUserImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\addUserImage.vue","mtime":1622539274161},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3dlYlByb2plY3QvcmVhbHdvcmsvYnVpbGQwMDIvYXR0ZW5kZmFjZXJlZ3YwMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZmFjZWFwaSBmcm9tICJmYWNlLWFwaS5qcyI7CmZhY2VhcGkuZW52Lm1vbmtleVBhdGNoKHsKICBDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LAogIEltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LAogIEltYWdlRGF0YTogSW1hZ2VEYXRhLAogIFZpZGVvOiBIVE1MVmlkZW9FbGVtZW50LAogIGNyZWF0ZUNhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZUNhbnZhc0VsZW1lbnQoKSB7CiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgfSwKICBjcmVhdGVJbWFnZUVsZW1lbnQ6IGZ1bmN0aW9uIGNyZWF0ZUltYWdlRWxlbWVudCgpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFkZFVzZXJJbWFnZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzbG9hZGVkOiBmYWxzZSwKICAgICAgZmlsZXM6IFtdLAogICAgICBkZXNjcmlwdG9yc2pzb246IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcHJldmlld1BpY3M6IGZ1bmN0aW9uIHByZXZpZXdQaWNzKCkgewogICAgICB0aGlzLmdldERlc2NyaXB0b3IoKTsKICAgICAgLyp2YXIgb3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dHB1dCIpOw0KICAgICAgb3V0cHV0LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTsNCiAgICAgIG91dHB1dC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob3V0cHV0LnNyYyk7DQogICAgICB9OyovCiAgICB9LAogICAgZ2V0RGVzY3JpcHRvcjogZnVuY3Rpb24gZ2V0RGVzY3JpcHRvcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGluZGV4LCB0b2ltYWdlLCBkZXRlY3Rpb24sIG91dHB1dDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpbmRleCA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGlmICghKGluZGV4IDwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltYWdlZmlsZXMiKS5maWxlcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFjZWFwaS5idWZmZXJUb0ltYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWFnZWZpbGVzIikuZmlsZXNbaW5kZXhdKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdG9pbWFnZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBmYWNlYXBpLmRldGVjdFNpbmdsZUZhY2UodG9pbWFnZSkud2l0aEZhY2VMYW5kbWFya3MoKS53aXRoRmFjZURlc2NyaXB0b3IoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgZGV0ZWN0aW9uID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpcy5kZXNjcmlwdG9yc2pzb24ucHVzaChKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGRldGVjdGlvbi5kZXNjcmlwdG9yKSkpOwoKICAgICAgICAgICAgICAgIHRvaW1hZ2UuY2xhc3NOYW1lID0gImltZy1mbHVpZCBpbWctdGh1bWJuYWlsIGZsb2F0LWxlZnQgcm91bmRlZCI7CiAgICAgICAgICAgICAgICBvdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3V0cHV0Iik7CiAgICAgICAgICAgICAgICBvdXRwdXQuYXBwZW5kQ2hpbGQodG9pbWFnZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBpbmRleCsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJhbGxpbWd1cGxvYWRlZCIsIF90aGlzLmRlc2NyaXB0b3JzanNvbik7CgogICAgICAgICAgICAgICAgX3RoaXMuZGVzY3JpcHRvcnNqc29uID0gW107CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgUHJvbWlzZS5hbGwoW2ZhY2VhcGkubmV0cy5mYWNlTGFuZG1hcms2OE5ldC5sb2FkRnJvbVVyaSgiL21vZGVscyIpLCBmYWNlYXBpLm5ldHMuZmFjZVJlY29nbml0aW9uTmV0LmxvYWRGcm9tVXJpKCIvbW9kZWxzIiksIGZhY2VhcGkubmV0cy5zc2RNb2JpbGVuZXR2MS5sb2FkRnJvbVVyaSgiL21vZGVscyIpXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5pc2xvYWRlZCA9IHRydWU7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["addUserImage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,OAAA,MAAA,aAAA;AACA,OAAA,CAAA,GAAA,CAAA,WAAA,CAAA;AACA,EAAA,MAAA,EAAA,iBADA;AAEA,EAAA,KAAA,EAAA,gBAFA;AAGA,EAAA,SAAA,EAAA,SAHA;AAIA,EAAA,KAAA,EAAA,gBAJA;AAKA,EAAA,mBAAA,EAAA;AAAA,WAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA;AAAA,GALA;AAMA,EAAA,kBAAA,EAAA;AAAA,WAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA;AAAA;AANA,CAAA;AAQA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,eAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,aAAA;AACA;AACA;AACA;AACA;AACA;AACA,KARA;AASA,IAAA,aATA,2BASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,gBAAA,KAHA,GAGA,CAHA;;AAAA;AAAA,sBAIA,KAAA,GAAA,QAAA,CAAA,cAAA,CAAA,YAAA,EAAA,KAAA,CAAA,MAJA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAOA,OAAA,CAAA,aAAA,CACA,QAAA,CAAA,cAAA,CAAA,YAAA,EAAA,KAAA,CAAA,KAAA,CADA,CAPA;;AAAA;AAOA,gBAAA,OAPA;AAAA;AAAA,uBAWA,OAAA,CACA,gBADA,CACA,OADA,EAEA,iBAFA,GAGA,kBAHA,EAXA;;AAAA;AAWA,gBAAA,SAXA;;AAeA,gBAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CACA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA,CADA;;AAGA,gBAAA,OAAA,CAAA,SAAA,GAAA,4CAAA;AACA,gBAAA,MAnBA,GAmBA,QAAA,CAAA,cAAA,CAAA,QAAA,CAnBA;AAoBA,gBAAA,MAAA,CAAA,WAAA,CAAA,OAAA;;AApBA;AAKA,gBAAA,KAAA,EALA;AAAA;AAAA;;AAAA;AAsBA,gBAAA,KAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,KAAA,CAAA,eAAA;;AACA,gBAAA,KAAA,CAAA,eAAA,GAAA,EAAA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AAjCA,GATA;AA4CA,EAAA,OA5CA,qBA4CA;AAAA;;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,CACA,OAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,WAAA,CAAA,SAAA,CADA,EAEA,OAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,WAAA,CAAA,SAAA,CAFA,EAGA,OAAA,CAAA,IAAA,CAAA,cAAA,CAAA,WAAA,CAAA,SAAA,CAHA,CAAA,EAIA,IAJA,CAIA,YAAA;AACA,MAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,KANA;AAOA;AApDA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container-fluid rounded\">\r\n      <div\r\n        class=\"container-fluid text-dark px-2 my-1\"\r\n        style=\"background-color: #ededee\"\r\n      >\r\n        <h4>Please Insert 3 photos</h4>\r\n        <p>\r\n          (All facial features <strong>must be visibe</strong> to the Camera)\r\n        </p>\r\n      </div>\r\n      <div>\r\n        <input\r\n          class=\"form-control\"\r\n          v-show=\"isloaded\"\r\n          type=\"file\"\r\n          id=\"imagefiles\"\r\n          ref=\"myfiles\"\r\n          @change=\"previewPics\"\r\n          multiple\r\n          accept=\"image/*,.jpg,.jpeg,.png\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"d-flex justify-content-center py-1 px-5\">\r\n      <div class=\"user_card px-5 py-4 mx-5\" style=\"background-color: #ffffff\">\r\n        <div class=\"d-flex justify-content-center pb-3\">\r\n          <div id=\"output\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from \"face-api.js\";\r\nfaceapi.env.monkeyPatch({\r\n  Canvas: HTMLCanvasElement,\r\n  Image: HTMLImageElement,\r\n  ImageData: ImageData,\r\n  Video: HTMLVideoElement,\r\n  createCanvasElement: () => document.createElement(\"canvas\"),\r\n  createImageElement: () => document.createElement(\"img\"),\r\n});\r\nexport default {\r\n  name: \"addUserImage\",\r\n  data() {\r\n    return {\r\n      isloaded: false,\r\n      files: [],\r\n      descriptorsjson: [],\r\n    };\r\n  },\r\n  methods: {\r\n    previewPics() {\r\n      this.getDescriptor();\r\n      /*var output = document.getElementById(\"output\");\r\n      output.src = URL.createObjectURL(event.target.files[0]);\r\n      output.onload = function () {\r\n        URL.revokeObjectURL(output.src);\r\n      };*/\r\n    },\r\n    async getDescriptor() {\r\n      // const imageupload = document.getElementById('imagefiles')\r\n      for (\r\n        let index = 0;\r\n        index < document.getElementById(\"imagefiles\").files.length;\r\n        index++\r\n      ) {\r\n        const toimage = await faceapi.bufferToImage(\r\n          document.getElementById(\"imagefiles\").files[index]\r\n        );\r\n\r\n        const detection = await faceapi\r\n          .detectSingleFace(toimage)\r\n          .withFaceLandmarks()\r\n          .withFaceDescriptor();\r\n        this.descriptorsjson.push(\r\n          JSON.stringify(Array.from(detection.descriptor))\r\n        );\r\n        toimage.className = \"img-fluid img-thumbnail float-left rounded\";\r\n        const output = document.getElementById(\"output\");\r\n        output.appendChild(toimage);\r\n      }\r\n      this.$emit(\"allimguploaded\", this.descriptorsjson);\r\n      this.descriptorsjson = [];\r\n    },\r\n  },\r\n  created() {\r\n    Promise.all([\r\n      faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n      faceapi.nets.ssdMobilenetv1.loadFromUri(\"/models\"),\r\n    ]).then(() => {\r\n      this.isloaded = true;\r\n    });\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}