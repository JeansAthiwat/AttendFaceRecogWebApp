{"remainingRequest":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\src\\components\\cameraAndShow.vue","mtime":1622064051111},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\webProject\\realwork\\build002\\attendfaceregv02\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmxvYXQzMi1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gImZhY2UtYXBpLmpzIjsKaW1wb3J0IGRiIGZyb20gIi4uL3ZpZXdzL2ZpcmViYXNlSW5pdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY2FtZXJhQW5kU2hvdyIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IFsiZGF0YUZvclNvcnQiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgTGFiZWxlZEZhY2VzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBQcm9taXNlLmFsbChbZmFjZWFwaS5uZXRzLnRpbnlGYWNlRGV0ZWN0b3IubG9hZEZyb21VcmkoIi9tb2RlbHMiKSwgZmFjZWFwaS5uZXRzLmZhY2VMYW5kbWFyazY4TmV0LmxvYWRGcm9tVXJpKCIvbW9kZWxzIiksIGZhY2VhcGkubmV0cy5mYWNlUmVjb2duaXRpb25OZXQubG9hZEZyb21VcmkoIi9tb2RlbHMiKV0pLnRoZW4oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExhYmVsRnJvbURCOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21EQigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRzIikuZ2V0KCkudGhlbihmdW5jdGlvbiAocXVlcnlTbmFwc2hvdHMpIHsKICAgICAgICBxdWVyeVNuYXBzaG90cy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBwYXJzZWREZXNjcmlwdG9ycyA9IFtdOwoKICAgICAgICAgIGlmIChkb2MuZGF0YSgpLm1hdHRoYXlvbSA9PSBfdGhpcy5kYXRhRm9yU29ydC5tYXR0aGF5b20gJiYgZG9jLmRhdGEoKS5zbGFzaCA9PSBfdGhpcy5kYXRhRm9yU29ydC5zbGFzaCkgewogICAgICAgICAgICBkb2MuZGF0YSgpLmRlc2NyaXB0b3JzLmZvckVhY2goZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHsKICAgICAgICAgICAgICBwYXJzZWREZXNjcmlwdG9ycy5wdXNoKG5ldyBGbG9hdDMyQXJyYXkoSlNPTi5wYXJzZShkZXNjcmlwdG9yKSkpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzLkxhYmVsZWRGYWNlcy5wdXNoKG5ldyBmYWNlYXBpLkxhYmVsZWRGYWNlRGVzY3JpcHRvcnMoZG9jLmRhdGEoKS5zdHVkZW50aWQsIHBhcnNlZERlc2NyaXB0b3JzKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygiSUNFRUUiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5MYWJlbGVkRmFjZXMpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["cameraAndShow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,OAAA,KAAA,OAAA,MAAA,aAAA;AACA,OAAA,EAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,KAAA,EAAA,CAAA,aAAA,CAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,OATA,qBASA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,CACA,OAAA,CAAA,IAAA,CAAA,gBAAA,CAAA,WAAA,CAAA,SAAA,CADA,EAEA,OAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,WAAA,CAAA,SAAA,CAFA,EAGA,OAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,WAAA,CAAA,SAAA,CAHA,CAAA,EAIA,IAJA;AAKA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EACA,GADA,GAEA,IAFA,CAEA,UAAA,cAAA,EAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,cAAA,iBAAA,GAAA,EAAA;;AACA,cACA,GAAA,CAAA,IAAA,GAAA,SAAA,IAAA,KAAA,CAAA,WAAA,CAAA,SAAA,IACA,GAAA,CAAA,IAAA,GAAA,KAAA,IAAA,KAAA,CAAA,WAAA,CAAA,KAFA,EAGA;AACA,YAAA,GAAA,CAAA,IAAA,GAAA,WAAA,CAAA,OAAA,CAAA,UAAA,UAAA,EAAA;AACA,cAAA,iBAAA,CAAA,IAAA,CACA,IAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA,CADA;AAGA,aAJA;;AAKA,YAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CACA,IAAA,OAAA,CAAA,sBAAA,CACA,GAAA,CAAA,IAAA,GAAA,SADA,EAEA,iBAFA,CADA;AAMA,WAfA,MAeA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,SApBA;AAqBA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,YAAA;AACA,OAzBA;AA2BA;AA7BA;AAhBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"GetButton\">\r\n      <button @click.prevent=\"getLabelFromDB\">Submit</button>\r\n    </div>\r\n\r\n    <div id=\"Camera\">dataforsort : {{ dataForSort }}</div>\r\n\r\n    <div id=\"Showlabeled\">\r\n      LabeledFaceDescriptors : {{ LabeledFaces.toString() }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as faceapi from \"face-api.js\";\r\nimport db from \"../views/firebaseInit\";\r\n\r\nexport default {\r\n  name: \"cameraAndShow\",\r\n  components: {},\r\n  props: [\"dataForSort\"],\r\n  data() {\r\n    return {\r\n      LabeledFaces: [],\r\n    };\r\n  },\r\n  created() {\r\n    Promise.all([\r\n      faceapi.nets.tinyFaceDetector.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceLandmark68Net.loadFromUri(\"/models\"),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri(\"/models\"),\r\n    ]).then();\r\n  },\r\n  methods: {\r\n    getLabelFromDB() {\r\n      db.collection(\"students\")\r\n        .get()\r\n        .then((querySnapshots) => {\r\n          querySnapshots.forEach((doc) => {\r\n            const parsedDescriptors = [];\r\n            if (\r\n              doc.data().matthayom == this.dataForSort.matthayom &&\r\n              doc.data().slash == this.dataForSort.slash\r\n            ) {\r\n              doc.data().descriptors.forEach((descriptor) => {\r\n                parsedDescriptors.push(\r\n                  new Float32Array(JSON.parse(descriptor))\r\n                );\r\n              });\r\n              this.LabeledFaces.push(\r\n                new faceapi.LabeledFaceDescriptors(\r\n                  doc.data().studentid,\r\n                  parsedDescriptors\r\n                )\r\n              );\r\n            } else {\r\n              console.log(\"ICEEE\");\r\n            }\r\n          });\r\n          console.log(this.LabeledFaces)\r\n        });\r\n        \r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}